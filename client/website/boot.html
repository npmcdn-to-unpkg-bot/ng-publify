<head>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,300,700,600" rel="stylesheet" type="text/css">
    <script src="https://use.fontawesome.com/9a243e8eb3.js"></script>
    
    <link id="ngp-toolbox" href="../ng-publify/style/ngp-toolbox.css" rel="stylesheet" type="text/css">
    <link id="ngp-edit" href="../ng-publify/style/ngp-edit.css" rel="stylesheet" type="text/css">
    
    <link id="global" href="style/global.css" rel="stylesheet" type="text/css">
    
    <script src="https://npmcdn.com/core-js/client/shim.min.js"></script>
    <script src="https://npmcdn.com/zone.js@0.6.12?main=browser"></script>
    <script src="https://npmcdn.com/reflect-metadata@0.1.3"></script>
    <script src="https://npmcdn.com/rxjs@5.0.0-beta.6/bundles/Rx.umd.js"></script>
    <script src="https://npmcdn.com/@angular/core/core.umd.js"></script>
    <script src="https://npmcdn.com/@angular/common/common.umd.js"></script>
    <script src="https://npmcdn.com/@angular/compiler/compiler.umd.js"></script>
    <script src="https://npmcdn.com/@angular/platform-browser/platform-browser.umd.js"></script>
    <script src="https://npmcdn.com/@angular/platform-browser-dynamic/platform-browser-dynamic.umd.js"></script>

    <script src="scripts/components/toolbox.component.js"></script>
    <script src="scripts/components/editable.directive.js"></script>
    <script src="scripts/app_boot.js"></script>
    
    <!--
    <script>
        (function(ngp) {
            
            
            document.addEventListener('DOMContentLoaded', function() {
                ng.platformBrowserDynamic.bootstrap(ngp.AppComponent);
            });
        })(window.ngp || (window.ngp = {}));
    </script>
    -->
    
</head>
<body>
    <my-app></my-app>
    
    <script>
        var publify = {};
        document.addEventListener('DOMContentLoaded', function() {
            publify.activeElement = null;

            publify.startEdit = function() {
                document.body.classList.add('publify--is-editing');
                Array.prototype.forEach.call(document.querySelectorAll('[editable]'), function(el) {
                    el.contentEditable = true;
                    el.addEventListener('focus', function(e) {
                       publify.activeElement = e.target;
                    });
                    el.addEventListener('blur', function(e) {
                        e.preventDefault();
                    });
                });

                document.body.classList.add('publify-editing');
            };
            publify.endEdit = function() {
                document.body.classList.remove('publify--is-editing');
                Array.prototype.forEach.call(document.querySelectorAll('[editable]'), function(el) {
                    el.contentEditable = false;
                });
                document.body.classList.remove('publify-editing');
            };
            
            //publify.startEdit();
        });
    </script>    
</body>